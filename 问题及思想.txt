问题在哪里呢：如果构建两个文件，分为server和client，需要存储什么信息，这两个文件分别用于执行
监听和连接的功能。估计一边至少需要两个socket变量，一个用于建立连接，一个用于accept新建的socket。
服务器的本体socket可以用数组，每次用accept接收一个连接后用多线程传入这个new_socket进行监听，发送？
服务器需要计数器记录连接的个数吗？客户端每次建立分配一个id，用这个id对服务器的socket数组进行提取。

连接的时候客户端填写的是服务器的ip。服务器发送信息时填写的是客户端的id。

多线程对成员变量有影响。

一个想法：
额外开一个服务器，然后给客户端分配一个唯一的id，每次先提前打开服务器，然后客户端之间的通信
就可以借助服务器进行了。先将信息传到服务器上，然后通过服务器转发信息到特定id的客户端上。
服务器自然使用多线程进行接收。多线程发送。

客户端如果想要接收来自服务端的消息也至少要开辟一个线程用于监听。发送消息可以在主线程中
用信号槽机制进行实现。


另一个想法：
还是借助client和server的方式，先开的作为服务端，多线程accept连接，多线程监听recv，主线程内进行
发送信息。
后开的作为客户端，多线程接收recv，主线程内进行发送消息。

主线程有ui不可以阻塞，所以有阻塞要求的必须多线程。

项目中还是要包含服务端和客户端两个类。暂时不考虑一个server连接多个客户端的情况所以两个socket
足够。类属性中还要包含建立连接需要的变量。

服务端的目标不用填写，客户端的目标填写服务端的IP地址。

2021/5/9
目前按照第二个想法执行，但是估计多线程有问题，客户端的连接出现了错误。
服务端怎么判断客户端是否断开连接？心跳检测：https://bbs.csdn.net/topics/360024689

2021/5/9
似乎服务端使用accept产生的新的socket必须放到新的线程实现。另外send对应的socket应该是客户端和socket和服务端accept返回的socket


解决了！！！！
通过信号触发来传递参数
https://blog.csdn.net/u014430031/article/details/77754764


问题描述：
http://blog.sina.com.cn/s/blog_49b2f03a01015iby.html